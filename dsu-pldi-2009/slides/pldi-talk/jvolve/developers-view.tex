
% \section{\DSU}
% \ShowTOC[currentsection]

\begin{frame}{\DSU{} - System overview}%{A Sub-title is optional}
\begin{center}%
\includegraphics[width=0.93\paperwidth]{images/developers-view}%
\end{center}%
\end{frame}

% \begin{frame}{Update Model}%{A Sub-title is optional}
% \begin{itemize}
% \item Update happens in one fell swoop
% \item Simple to reason about
% \item Code
%   \begin{itemize}
%   \item Old code before the update
%   \item New code after the update
%   \end{itemize}
% \item Data
%   \begin{itemize}
%   \item \emph{Representation consistency} (all values of a type \\
%         correspond to the latest version)
%   \item Support a transformation function to convert objects to conform to
%         their new definition
%   \end{itemize}
% \end{itemize}
% \end{frame}

\newcommand{\removed}[1]{\textcolor{red}{- #1}}
\newcommand{\addedxx}[1]{\textcolor{OliveGreen}{+ #1}}

\begin{frame}[fragile]{Supported updates}%{A Sub-title is optional}
\begin{itemize}
\item Changes within the body of a method \\
\begin{footnotesize}
\begin{semiverbatim}
  public static void main(String args[]) \{
    System.out.println("Hello, World.");
\addedxx{  System.out.println("Hello again, World.");}
  \}
\end{semiverbatim}
\end{footnotesize}
\item Class signature updates
  \begin{itemize}
  \item Add, remove, change the type signature of fields and methods
  \end{itemize}
\begin{footnotesize}
\begin{semiverbatim}
  public class Line \{
\removed{  private final Point2D p1;}
\addedxx{  private final Point3D p1;}
    ...
  \}
\end{semiverbatim}
\end{footnotesize}
% \item Changes can occur at any level of the class hierarchy
\item Signature updates require an object transformer function
\end{itemize}
\end{frame}


% \begin{frame}{Division of Labor}%{A Sub-title is optional}
% I think this slide should get killed. Let me know what you think.
% \begin{itemize}
% \item Developer
%   \begin{itemize}
%   \item Write the old and new versions
%   \item Write class/object transformation functions for classes that
%         changed (optional)
%   \item Testing (both the application and the update)
%   \end{itemize}
% \item \DSU{} system
%   \begin{itemize}
%   \item Update Preparation Tool (UPT) identifies differences between versions
%     \begin{itemize}
%     \item Identifies classes that have changed signature (added or removed
%           field/method)
%     \item Identifies method body changes
%     \end{itemize}
%   \item \DSU{} VM handles the update
%   \end{itemize}
% \end{itemize}
% \end{frame}

% \ShowTOC
% \subsection{Developer's role}

% \input{jvolve/jes-example}

% \begin{frame}[fragile,shrink=5]{Example of an update (JavaEmailServer)}%{A Sub-title is optional}
% \begin{\ExampleCodeSize}
% \begin{semiverbatim}
% public class User \{
%   private String username, domain, password;
%   private \sout{String[]} EmailAddress[] forwardAddresses;
%   public \sout{String[]} EmailAddress[] getForwardedAddresses() \{...\}
%   public void setForwardedAddresses(\sout{String[]} EmailAddress[] f) \{...\}
% \}
% 
% public class ConfigurationManager \{
%   private User loadUser(...) \{
%      ...
%      User user = new User(...);
%      \sout{String[]} EmailAddress[] f = ...;
%      user.setForwardedAddresses(f);
%      return user;
%   \}
% \}
% 
% \end{semiverbatim}
% \end{\ExampleCodeSize}
% \end{frame}

% \begin{frame}{Object Transformers}%{A Sub-title is optional}
% \begin{itemize}
% \item ``Transform'' objects to correspond to the new version
% \item Functions generated by the Update Preparation Tool (UPT)
% \item Accept old object and new objects as parameters
% \item Default transformer copies old fields and initializes new ones to
% \texttt{null}
% \item User can optionally modify these functions
% \end{itemize}
% \end{frame}
